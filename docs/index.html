<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AWS Cognito認証デモ</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  </head>
  <body
    class="bg-gradient-to-br from-slate-50 to-slate-200 min-h-screen py-8 px-4"
  >
    <div class="max-w-3xl mx-auto">
      <section class="mb-8">
        <h2 class="text-lg font-semibold text-gray-800 mb-3">ページ一覧</h2>
        <ul
          id="menu-container"
          class="bg-white rounded-lg shadow-sm border border-gray-200 divide-y divide-gray-200"
        ></ul>
      </section>

      <section class="mb-8">
        <h2 class="text-lg font-semibold text-gray-800 mb-3">
          参考サイト（外部リンク）
        </h2>
        <ul
          class="bg-white rounded-lg shadow-sm border border-gray-200 divide-y divide-gray-200"
        >
          <li>
            <a
              href="https://docs.aws.amazon.com/ja_jp/cognito/latest/developerguide/authentication.html"
              class="block px-4 py-3 hover:bg-gray-50 transition-colors"
              target="_blank"
              >🌐 Amazon Cognito ユーザープールによる認証 - Amazon Cognito</a
            >
          </li>
          <li>
            <a
              href="https://docs.aws.amazon.com/ja_jp/cognito/latest/developerguide/amazon-cognito-user-pools-authentication-flow-methods.html"
              class="block px-4 py-3 hover:bg-gray-50 transition-colors"
              target="_blank"
              >🌐 認証フロー - Amazon Cognito</a
            >
          </li>
          <li>
            <a
              href="https://docs.aws.amazon.com/ja_jp/cognito/latest/developerguide/login-endpoint.html"
              class="block px-4 py-3 hover:bg-gray-50 transition-colors"
              target="_blank"
              >🌐 マネージドログインサインインエンドポイント: /login - Amazon
              Cognito</a
            >
          </li>
          <li>
            <a
              href="https://docs.aws.amazon.com/ja_jp/cognito/latest/developerguide/logout-endpoint.html"
              class="block px-4 py-3 hover:bg-gray-50 transition-colors"
              target="_blank"
              >🌐 マネージドログインサインアウトエンドポイント: /logout - Amazon
              Cognito</a
            >
          </li>
          <li>
            <a
              href="https://docs.aws.amazon.com/ja_jp/cognito/latest/developerguide/user-pool-settings-mfa.html"
              class="block px-4 py-3 hover:bg-gray-50 transition-colors"
              target="_blank"
              >🌐 ユーザープールに MFA を追加します - Amazon Cognito</a
            >
          </li>
        </ul>
      </section>

      <section class="mb-8">
        <h2 class="text-lg font-semibold text-gray-800 mb-3">
          📁 このデモに関する情報
        </h2>
        <ul
          class="bg-white rounded-lg shadow-sm border border-gray-200 divide-y divide-gray-200"
        >
          <li>
            <a
              href="https://github.com/imo-tikuwa/cognito-demo"
              class="block px-4 py-3 hover:bg-gray-50 transition-colors"
              target="_blank"
              >📝 GitHub リポジトリ - imo-tikuwa/cognito-demo</a
            >
          </li>
          <li>
            <a
              href="https://github.com/imo-tikuwa/cognito-demo/tree/main/notes"
              class="block px-4 py-3 hover:bg-gray-50 transition-colors"
              target="_blank"
              >📄 ドキュメント（検証メモなど）</a
            >
          </li>
        </ul>
      </section>
    </div>

    <script type="module">
      import { MENU_ITEMS } from "./scripts/menu.js";

      // 動的にメニューを生成
      function generateDynamicMenu() {
        const menuContainer = document.getElementById("menu-container");

        menuContainer.innerHTML = MENU_ITEMS.filter(
          (item) => item.id !== "home"
        )
          .map(
            (item) => `
                <li>
                  <a
                    href="${item.href}"
                    class="block px-4 py-3 hover:bg-gray-50 transition-colors"
                  >
                    ${item.title}${
              item.description ? "（" + item.description + "）" : ""
            }
                  </a>
                </li>
              `
          )
          .join("");
      }

      // DOMContentLoadedで実行
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", generateDynamicMenu);
      } else {
        generateDynamicMenu();
      }
    </script>
  </body>
</html>
